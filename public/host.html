<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>LiveKit Host - Recording</title>
  <style>
    .video-grid { display: flex; gap: 20px; flex-wrap: wrap; background: #222; padding: 20px; border-radius: 8px; }
    .tile { width: 400px; height: 300px; background: #000; border: 2px solid #444; border-radius: 4px; object-fit: cover; }
    .controls { margin-top: 20px; }
    button { padding: 10px 20px; cursor: pointer; }

    .stats-dashboard {
      margin-top: 15px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      font-family: monospace;
      background: #111;
      padding: 10px;
      border-radius: 5px;
      color: #0f0; /* Matrix green for stats */
      font-size: 12px;
    }
    .stat-item { border-bottom: 1px solid #333; padding: 2px 0; }
    .stat-value { color: #fff; float: right; }
  </style>
</head>
<body>
<h2>Host Room (Recording Enabled)</h2>

<div class="video-grid">
  <div class="video-container">
    <video id="local-video" class="tile" autoplay muted playsinline></video>
    <div class="meter-label">My Mic: <progress id="local-meter" value="0" max="100"></progress></div>
  </div>
  <div class="video-container">
    <video id="remote-video" class="tile" autoplay playsinline></video>
    <div class="meter-label">Remote Mic: <progress id="remote-meter" value="0" max="100"></progress></div>
  </div>
</div>

<div class="controls">
  <button id="start-btn">Start Recording</button>
  <button id="stop-btn" disabled>Stop & Download</button>
</div>

<div class="stats-dashboard">
  <div id="host-stats">
    <strong>HOST (You)</strong>
    <div class="stat-item">Bandwidth: <span id="h-bitrate" class="stat-value">0 Mbps</span></div>
    <div class="stat-item">Latency: <span id="h-latency" class="stat-value">0 ms</span></div>
    <div class="stat-item">Jitter: <span id="h-jitter" class="stat-value">0 ms</span></div>
  </div>
  <div id="participant-stats">
    <strong>PARTICIPANT</strong>
    <div class="stat-item">Bandwidth: <span id="p-bitrate" class="stat-value">0 Mbps</span></div>
    <div class="stat-item">Latency: <span id="p-latency" class="stat-value">0 ms</span></div>
    <div class="stat-item">Jitter: <span id="p-jitter" class="stat-value">0 ms</span></div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/livekit-client/dist/livekit-client.umd.min.js"></script>
<script src="app.js"></script>
</body>
</html>